        </main> <!-- Closes the <main> tag opened in page files -->

        <footer class="site-footer">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-6 gap-8">
                    <div class="md:col-span-2">
                        <div class="footer-brand flex items-center gap-2">

                            <span>Stillness Aroma</span>
                        </div>
                        <p class="footer-description text-sm">Your ultimate destination for coffee education and brewing mastery.</p>
                    </div>
                    <div><h6 class="footer-title">Learn</h6><ul class="footer-links text-sm"><li><a href="#">Recipes</a></li><li><a href="#">Learning Hub</a></li></ul></div>
                    <div><h6 class="footer-title">Company</h6><ul class="footer-links text-sm"><li><a href="#">About</a></li><li><a href="#">Contact</a></li></ul></div>
                    <div class="md:col-span-2"><h6 class="footer-title">Follow Us</h6><div class="social-links"><a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a><a href="#" class="social-link"><i class="fab fa-instagram"></i></a><a href="#" class="social-link"><i class="fab fa-twitter"></i></a></div></div>
                </div>
                <div class="copyright text-center text-sm">
                    <p>&copy; <?= date('Y') ?> Stillness Aroma. All Rights Reserved.</p>
                </div>
            </div>
        </footer>
    </div> <!-- Closes main flex container -->

    <!-- ========= JAVASCRIPT LIBRARIES & INITIALIZATION ========= -->
    
    <!-- Library Scripts -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>
    
    <!-- Site-wide Initialization & Logic -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Initialize Global Libraries
        try {
            AOS.init({ once: true, duration: 800 });
        } catch (e) { console.error('AOS Init Error:', e); }

        try {
            MicroModal.init({ awaitCloseAnimation: true });
        } catch (e) { console.error('MicroModal Init Error:', e); }

        try {
            const lightbox = GLightbox({ selector: '.glightbox' });
        } catch (e) { console.warn("GLightbox not loaded or failed to init."); }

        // --- Mobile Menu Toggle Logic (THE NEW PART) ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });
        }
      });
    </script>

    <!-- Page-Specific Scripts (Loaded Conditionally) -->
<?php if (isset($pageScripts)) { ?>
<script src="<?= htmlspecialchars($pageScripts) ?>?v=<?= time(); ?>"></script>
<?php } ?>
<?php if (isset($pageScripts) && is_array($pageScripts)): ?>
        <?php foreach ($pageScripts as $script): ?>
            <script src="<?= htmlspecialchars($script) ?>"></script>
        <?php endforeach; ?>
    <?php endif; ?>
</body>
</html>